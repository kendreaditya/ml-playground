(this["webpackJsonpml-playground"]=this["webpackJsonpml-playground"]||[]).push([[0],{19:function(e,t,n){},35:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(14),r=n.n(a),c=n(1),i=n.n(c),o=n(2),s=n(25),l=n(10),u="127.0.0.1:8000",j=["#729EFD","#E9796F","#647FC7","#A95F56"],d={types:["Suport Vector Machine (SVM)","Multilayer Perceptron (MLP)","Logistic Regression","K-Nearest Neighbors (KNN)","Decision Tree"],params:{"Suport Vector Machine (SVM)":{param:"svm",params:{"Learning Rate":{option:[.1,.01,.001,1e-4,1e-5],param:"learning_rate"},Epochs:{option:[1,10,20,30,40,50,60,70,80,90,100],param:"epoch"},"Batch Size":{option:[8,16,32,64,128],param:"batch_size"},Optimizer:{option:["adam","SGD"],param:"optimizer"}}},"Multilayer Perceptron (MLP)":{param:"mlp",params:{"Learning Rate":{option:[.1,.01,.001,1e-4,1e-5],param:"learning_rate"},Epochs:{option:[1,10,20,30,40,50,60,70,80,90,100],param:"epoch"},"Batch Size":{option:[8,16,32,64,128],param:"batch_size"},Optimizer:{option:["adam","SGD"],param:"optimizer"}}},"Logistic Regression":{param:"logistic-regression",params:{"Learning Rate":{option:[.1,.01,.001,1e-4,1e-5],param:"learning_rate"},Epochs:{option:[1,10,20,30,40,50,60,70,80,90,100],param:"epoch"},"Batch Size":{option:[8,16,32,64,128],param:"batch_size"},Optimizer:{option:["adam","SGD"],param:"optimizer"}}},"K-Nearest Neighbors (KNN)":{param:"knn",params:{"Number of Neighbors":{option:Array.from({length:20},(function(e,t){return t+1})),param:"n_neighbors"}}},"Decision Tree":{param:"decision-tree",params:{}}}},m=n(59),p=n(0),b=function(e){var t=e.yScale,n=e.width,a=e.textPadding,r=void 0===a?-15:a,c=e.lines,i=void 0===c||c,o=t.ticks(8).map((function(e,a){return Object(p.jsxs)("g",{className:"y-tick",children:[0===e&&i?Object(p.jsx)("line",{style:{stroke:"#e4e5eb"},y1:t(e),y2:t(e),x1:0,x2:n}):null,0===a&&i?Object(p.jsx)("line",{style:{stroke:"#e4e5eb"},y1:n,y2:n,x1:0,x2:n}):null,Object(p.jsx)("line",{style:{stroke:"#e4e5eb"},y1:t(e),y2:t(e),x1:-7.5,x2:0}),Object(p.jsx)("text",{style:{fontSize:12},x:r,dy:".32em",y:t(e),children:e})]},a)}));return Object(p.jsx)(p.Fragment,{children:o})},h=function(e){var t=e.xScale,n=e.height,a=e.textPadding,r=void 0===a?10:a,c=t.ticks(8).map((function(e,a){return Object(p.jsxs)("g",{className:"x-tick",children:[0===e?Object(p.jsx)("line",{style:{stroke:"#e4e5eb"},y1:0,y2:n,x1:t(e),x2:t(e)}):null,0===a?Object(p.jsx)("line",{style:{stroke:"#e4e5eb"},y1:0,y2:n,x1:0,x2:0}):null,Object(p.jsx)("line",{style:{stroke:"#e4e5eb"},y1:n,y2:n+7.5,x1:t(e),x2:t(e)}),Object(p.jsx)("text",{style:{textAnchor:"middle",fontSize:12},dy:".71em",x:t(e),y:n+r,children:e})]},a)}));return Object(p.jsx)(p.Fragment,{children:c})},x=function(e){var t=e.x,n=e.y,a=e.color,r=e.key;return Object(p.jsx)("circle",{className:"point",r:5,cx:t,cy:n,style:{fill:a},stroke:"white","stroke-width":"1.5"},r)},g=function(e){var t=e.data,n=e.w,a=e.h,r=e.margin,c=e.colors,i=e.domain,o=void 0===i?{x:[-5,5],y:[-5,5],scale:!1}:i,l=n-r.right-r.left,u=a-r.top-r.bottom,j=Object(s.a)().domain(o.scale?Object(m.a)(t.flat(),(function(e){return e.x})):o.x).range([0,l]),d=Object(s.a)().domain(o.scale?Object(m.a)(t.flat(),(function(e){return e.y})):o.y).range([u,0]),g=t||0!==t.length?t.reduce((function(e,t,n){return t.map((function(t){return e.push(Object(p.jsx)(x,{x:j(t.x),y:d(t.y),color:c[n]},e.length))})),e}),[]):[];return t||t[0]?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(b,{yScale:d,width:l}),Object(p.jsx)(h,{xScale:j,height:u}),g]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(b,{yScale:d,width:l}),Object(p.jsx)(h,{xScale:j,height:u})]})},O=(n(35),n(19),function(e){var t=e.onDatasetChange,n=Object(c.useState)(!1),a=Object(o.a)(n,2),r=a[0],i=a[1],l=Object(c.useState)({data:[],count:0}),u=Object(o.a)(l,2),d=u[0],m=u[1],b=Object(c.useState)(0),h=Object(o.a)(b,2),x=h[0],O=h[1];t(d.data);var f={top:0,bottom:0,left:0,right:0},y=320-f.right-f.left,v=320-f.top-f.bottom,F=Object(s.a)().domain([0,y]).range([-5,5]),N=Object(s.a)().domain([v,0]).range([-5,5]),S=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((r||t)&&d.count<500){var n=e.target,a=n.getBoundingClientRect(),c=F(e.clientX-a.left),i=N(e.clientY-a.top);c>-4.7&&i<4.7&&m((function(e){var t=JSON.parse(JSON.stringify(e)),n={x:c,y:i};return t.data.length-1>=x?t.data[x].push(n):t.data.push([n]),t.count++,t}))}};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"colors",children:[Object(p.jsxs)("div",{className:"color-col",children:[j.slice(0,2).map((function(e,t){return Object(p.jsx)("button",{className:"color",style:{backgroundColor:e},onClick:function(){return O(t)}})})),Object(p.jsxs)("label",{id:"point-count",children:[d.count,"/",500]})]}),Object(p.jsx)("div",{className:"color-col",children:Object(p.jsx)("button",{id:"reset-button",onClick:function(){return m({data:[],count:0})},children:"Reset"})})]}),Object(p.jsx)("div",{className:"container",style:{background:"#FFFFFF",width:"20em",height:"20em"},children:Object(p.jsx)("svg",{width:320,height:320,onMouseDown:function(){return i(!0)},onMouseUp:function(){return i(!1)},onMouseMove:S,onClick:function(e){return S(e,!0)},onMouseLeave:function(e){return i(!1)},style:{overflow:"visible"},children:Object(p.jsx)("g",{transform:"translate(".concat(f.left,",").concat(f.top,")"),children:Object(p.jsx)(g,{data:d.data,colors:j,w:320,h:320,margin:f})})})})]})}),f=n(62),y=function(e){var t=e.onSplitChange,n=i.a.useState(80),a=Object(o.a)(n,2),r=a[0],c=a[1];t(r);return Object(p.jsxs)("div",{className:"container dataset-slider",children:["Training Data Split",Object(p.jsxs)("div",{className:"slider",children:[Object(p.jsx)(f.a,{id:"slider",className:"slider-col",value:r,onChange:function(e,t){c(t)},"aria-labelledby":"continuous-slider"}),Object(p.jsx)("input",{className:"slider-col",type:"text",value:r,style:{width:"50px"}})]})]})},v=function(e){var t=e.onDatasetChange,n=e.onSplitChange;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(O,{onDatasetChange:t}),Object(p.jsx)(y,{onSplitChange:n})]})},F=n(7),N=n.n(F),S=n(4),w=n(24),k=n(5),_=n(63),C=n(60),M=function(e){var t,n=e.x,a=void 0===n?[10,9,8]:n,r=e.w,c=void 0===r?320:r,i=e.h,o=void 0===i?160:i,l=e.margin,u=void 0===l?{top:5,bottom:5,left:5,right:5}:l,j=e.color,d=e.domain,h=void 0===d?null:d,x=c-u.right-u.left,g=o-u.top-u.bottom,O=Object(s.a)().domain([0,a.length]).range([0,x]),f=Object(s.a)().domain(null===h?Object(m.a)(a.flat(),(function(e){return e})):h).range([g,0]),y=Object(_.a)().x((function(e){return O(e.x)})).y((function(e){return f(e.y)})).curve(C.a),v=a.map((function(e,t){return{x:t,y:e}}));return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"container",style:{background:"#FFFFFF",width:"20em",height:"10em"},children:Object(p.jsx)("svg",(t={width:c,height:o,style:{position:"absolute",zIndex:2}},Object(k.a)(t,"style",{overflow:"visible"}),Object(k.a)(t,"children",Object(p.jsxs)("g",{transform:"translate(".concat(u.left,",").concat(u.top,")"),children:[Object(p.jsx)(b,{yScale:f,width:x,lines:!1,textPadding:-30}),Object(p.jsx)("path",{d:y(v),strokeWidth:3,stroke:j,fill:"none"})]})),t))})})},z=n(61),D=function(e){var t=e.meshgrid,n=e.w,a=e.h,r=e.margin;return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("canvas",{ref:function(e){return function(e){if(e&&0!==t.length){for(var r=e.getContext("2d"),c=r.createImageData(n,a),i=Object(s.a)().domain([0,.5,1]).range(["#DC7C71","white","#7EA0FB"]).clamp(!0),o=Object(l.range)(0,1+1e-9,1/255).map((function(e){return i(e)})),u=Object(z.a)().domain([0,1]).range(o),j=0,d=-1;j<a;++j)for(var m=0;m<n;++m){var p=t[m][j],b=Object(l.rgb)(u(p));c.data[++d]=b.r,c.data[++d]=b.g,c.data[++d]=b.b,c.data[++d]=255}r.putImageData(c,0,0)}}(e)},height:a,width:n,style:{position:"absolute",zIndex:1,marginTop:r.top,marginBottom:r.bottom,marginLeft:r.left,marginRight:r.right,borderRadius:10}})})},P=function(e){var t=e.points,n=e.meshgrid,a={top:0,bottom:0,left:0,right:0};if(t&&0!==t.length)r=[["x_train","y_train"],["x_test","y_test"]].reduce((function(e,n,a){var r=Object(o.a)(n,2),c=r[0],i=r[1];return t[c].map((function(n,r){e[t[i][r]+(1===a?2:a)].push({x:n[0],y:n[1]})})),e}),[[],[],[],[]]);else var r=[];return Object(p.jsxs)("div",{className:"container",style:{background:"#FFFFFF",width:"20em",height:"20em"},children:[Object(p.jsx)(D,{meshgrid:n,w:320,h:320,margin:a,style:{position:"absolute",zIndex:1}}),Object(p.jsxs)("svg",{width:320,height:320,style:{position:"absolute",zIndex:2,overflow:"visible"},children:[Object(p.jsx)("defs",{children:Object(p.jsx)("filter",{id:"blur",children:Object(p.jsx)("feGaussianBlur",{stdDeviation:"50"})})}),Object(p.jsx)("g",{transform:"translate(".concat(a.left,",").concat(a.top,")"),children:Object(p.jsx)(g,{data:r,colors:j,w:320,h:320,margin:a})})]})]})},L=function(e){var t=e.points,n={top:0,bottom:0,left:0,right:0},a=0!==t.x.length?t.x.reduce((function(e,n,a){return e[t.y[a]].push({x:n[0],y:n[1]}),e}),Array.from(Array(Math.max.apply(Math,Object(S.a)(t.y))+1),(function(){return[]}))):[];return Object(p.jsx)("div",{className:"container",style:{background:"#FFFFFF",width:"20em",height:"20em"},children:Object(p.jsx)("svg",{width:320,height:320,style:{overflow:"visible"},children:Object(p.jsx)("g",{transform:"translate(".concat(n.left,",").concat(n.top,")"),children:Object(p.jsx)(g,{data:a,colors:j,domain:{x:[-5,5],y:[-5,5],scale:!0},w:320,h:320,margin:n,style:{position:"absolute"}})})})})},B="http://".concat(u,"/model/create/"),R=("http://".concat(u,"/model/parameters/"),function(e){var t=e.model_type,n=e.x_train,a=e.y_train,r=e.x_test,c=e.y_test,i=e.params,o=new Headers;o.append("Content-Type","application/json");var s=JSON.stringify({model_type:t,x_train:n,y_train:a,x_test:r,y_test:c,params:i});return fetch(B,{method:"POST",headers:o,body:s}).then((function(e){return e.text()})).catch((function(e){return console.log(e)}))}),A="ws://".concat(u,"/model/train/"),E=function(e){return new WebSocket(A+e)};var I,J=function(e,t,n){var a=[],r=[];e.map((function(e,t){e.map((function(e){a.push(t),r.push([e.x,e.y])}))})),function(e,t){for(var n,a,r,c=e.length;c;)n=Math.floor(Math.random()*c),a=e[c-=1],r=t[c],e[c]=e[n],t[c]=t[n],e[n]=a,t[n]=r}(a,r);var c=parseInt(a.length*(n/100));return t.y_train=a.splice(0,c),t.y_test=a,t.x_train=r.splice(0,c),t.x_test=r,console.log(t),t},T=function(e){var t=e.getDataset,n=e.getParameters,a=e.getSplit,r=Object(c.useState)([]),i=Object(o.a)(r,2),s=i[0],l=i[1],u=Object(c.useState)([]),d=Object(o.a)(u,2),m=d[0],b=d[1],h=Object(c.useState)({x:[],y:[]}),x=Object(o.a)(h,2),g=x[0],O=x[1],f=Object(c.useState)([]),y=Object(o.a)(f,2),v=y[0],F=y[1],k=function(){var e=Object(w.a)(N.a.mark((function e(){var r,c,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=J(t(),n(),a()),delete(I=JSON.parse(JSON.stringify(r))).model_type,delete I.params,e.next=6,R(r);case 6:c=e.sent,(i=E(c)).onopen=function(){console.log("connected")},i.onmessage=function(e){var t=JSON.parse(e.data);l((function(e){return[].concat(Object(S.a)(e),[t.loss])})),b((function(e){return[].concat(Object(S.a)(e),[t.accuracy])})),O({x:t.tsne,y:r.y_train}),F(t.heatmap)},i.onclose=function(){return console.log("disconnect")};case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("button",{id:"train-button",onClick:k,children:"Train Me!"}),Object(p.jsx)(M,{x:s,color:j[0]}),Object(p.jsx)(M,{x:m,color:j[0],domain:[0,1]}),Object(p.jsx)(P,{points:I,meshgrid:v}),Object(p.jsx)(L,{points:g})]})},G={string:String,number:Number},K=function(e){var t=e.className,n=e.label,a=e.param,r=e.onChange,c=void 0===r?function(){}:r,i=G[typeof a.option[0]];return a.param&&c(a.option[0],a.param),Object(p.jsxs)("div",{className:t,children:[Object(p.jsx)("p",{style:{marginBottom:"5px"},children:n}),Object(p.jsx)("select",{onChange:function(e){return c(i(e.target.value),a.param)},className:"input-parameter",children:a.option.map((function(e){return Object(p.jsx)("option",{value:e,children:e})}))})]})},V=function(e){var t=e.className,n=e.label,a=e.param;return Object(p.jsxs)("div",{className:t,children:[Object(p.jsx)("p",{children:n}),Object(p.jsx)("input",{className:"input-parameter",type:"number",value:(a.option.min+a.option.max)/2,min:a.option.min,max:a.option.max})]})},W=function(e){var t,n,a=e.onParameterChange,r=Object(c.useState)(d.types[0]),s=Object(o.a)(r,2),l=s[0],u=s[1],j={model_type:d.params[l].param,params:{}};return i.a.useEffect((function(){return a(j)}),[j]),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"container parameter",style:{background:"#FFFFFF"},children:[Object(p.jsx)(K,{label:"Model Type",param:{option:d.types},value:l,onChange:function(e,t){return u(e)}}),Object(p.jsx)("div",{className:"parameters",children:(t=d.params[l].params,n=function(e,t){j.params[t]=e,a(j)},Object.keys(t).map((function(e){var a=t[e];return Array.isArray(a.option)?Object(p.jsx)(K,{className:"parameter-col",label:e,param:a,onChange:n}):Object(p.jsx)(V,{className:"parameter-col",label:e,param:a,onChange:n})})))})]})})},H=function(){var e,t,n;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:"Machine Learning Playground"}),Object(p.jsxs)("div",{id:"flex-container",children:[Object(p.jsx)("div",{id:"dataset-item",className:"col",children:Object(p.jsx)(v,{onDatasetChange:function(t){return e=t},onSplitChange:function(e){return n=e}})}),Object(p.jsx)("div",{id:"parameter-item",className:"col",children:Object(p.jsx)(W,{onParameterChange:function(e){return t=e}})}),Object(p.jsx)("div",{id:"results-item",className:"col",children:Object(p.jsx)(T,{getDataset:function(){return e},getParameters:function(){return t},getSplit:function(){return n}})})]})]})};r.a.render(Object(p.jsx)(H,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.2e9c55de.chunk.js.map